<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Drone follow @HU | Jasper de Winther</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="For this assignment, we were meant to use PID systems in some form to control movement in the real world. So me, being stuck in my room during a corona lock down, had no hardware in my house besides a Tello drone. Due to this, I was basically forced to implement a PID controller for each of the 4 degrees of freedom of the drone. This allowed for quite fine-grained control of the drone, even in small spaces, such as my room."><meta name=generator content="Hugo 0.100.2"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="Drone follow @HU"><meta property="og:description" content="For this assignment, we were meant to use PID systems in some form to control movement in the real world. So me, being stuck in my room during a corona lock down, had no hardware in my house besides a Tello drone. Due to this, I was basically forced to implement a PID controller for each of the 4 degrees of freedom of the drone. This allowed for quite fine-grained control of the drone, even in small spaces, such as my room."><meta property="og:type" content="article"><meta property="og:url" content="https://jasperdewinther.github.io/posts/drone-follow/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2020-07-01T00:00:00+00:00"><meta itemprop=name content="Drone follow @HU"><meta itemprop=description content="For this assignment, we were meant to use PID systems in some form to control movement in the real world. So me, being stuck in my room during a corona lock down, had no hardware in my house besides a Tello drone. Due to this, I was basically forced to implement a PID controller for each of the 4 degrees of freedom of the drone. This allowed for quite fine-grained control of the drone, even in small spaces, such as my room."><meta itemprop=datePublished content="2020-07-01T00:00:00+00:00"><meta itemprop=dateModified content="2020-07-01T00:00:00+00:00"><meta itemprop=wordCount content="234"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Drone follow @HU"><meta name=twitter:description content="For this assignment, we were meant to use PID systems in some form to control movement in the real world. So me, being stuck in my room during a corona lock down, had no hardware in my house besides a Tello drone. Due to this, I was basically forced to implement a PID controller for each of the 4 degrees of freedom of the drone. This allowed for quite fine-grained control of the drone, even in small spaces, such as my room."></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://jasperdewinther.github.io/images/Drone_follow_qr.png)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Jasper de Winther</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li></ul><div class=ananke-socials></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Drone follow @HU</h1></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Drone follow @HU</h1><time class="f6 mv4 dib tracked" datetime=2020-07-01T00:00:00Z>July 1, 2020</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>For this assignment, we were meant to use PID systems in some form to control movement in the real world. So me, being stuck in my room during a corona lock down, had no hardware in my house besides a <a href=https://www.ryzerobotics.com/tello>Tello drone</a>. Due to this, I was basically forced to implement a PID controller for each of the 4 degrees of freedom of the drone. This allowed for quite fine-grained control of the drone, even in small spaces, such as my room. To make it more interactive I decided to have it follow some object, and as a QR code can be well detected and is perfectly square, I decided to go with this. The distance from the drone to the QR code can be calculated when you know the size of the QR code on the screen and the field of view of the camera. The rotation can be measured using the difference in length of the left and right side of the qr code. These two, along with the offsets from the camera center, are the foundation of the PID input. Below is a video demonstrating the result.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/W_Kfyqd4PiA style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>Initially it was quite hard to wirelessly interface with the drone, but this was resolved after using some very nice libraries. Namely, <a href=https://www.sfml-dev.org/>sfml</a> for the networking, <a href=https://opencv.org/%5B>opencv</a> for the decoding of video and image operations, and <a href=http://zbar.sourceforge.net/>zbar</a> for the detection of the QR code.</p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://jasperdewinther.github.io>&copy; Jasper de Winther 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>